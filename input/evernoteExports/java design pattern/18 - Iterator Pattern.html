<html>
<head>
  <title>Evernote Export</title>
  <basefont face="Segoe UI" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/308716 (en-US, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: Segoe UI;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="493"/>

<div>
<span><div><h2><span style="font-size: 14pt;"><b>18 - Iterator Pattern</b></span></h2><div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 846px;"></col></colgroup><tbody><tr><td style="width: 846px; padding: 8px; border: 1px solid;"><div><span style="font-weight: bold;">D:   Can you give the gof definition of the iterator pattern ? Whatis the purpose of the Iterator pattern ?</span></div></td></tr><tr><td style="width: 846px; padding: 8px; border: 1px solid;"><div>R: Provide a way to access the elements of an aggregate object sequentially without exposing its underlying representation.</div><div>Using iterators, a client object can traverse a container (or a collection of objects) to access its elements without knowing how these data are stored internally. The concept is very useful when you need to traverse different kinds of collection objects in a standard and uniform way. The following are some important points about this pattern.</div><ul><li><div>It is often used to traverse the nodes of a tree-like structure. So, in many scenarios, you may notice the use of iterator patterns with composite patterns.</div></li><li><div>The role of an iterator is not limited to traversing. This role can vary to support various requirements.</div></li><li><div>Clients cannot see the actual traversal mechanism. A client program only uses the iterator methods that are public in nature.</div></li></ul></td></tr></tbody></table><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 846px;"></col></colgroup><tbody><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div><span style="font-weight: bold;">D:   can you show an uml diagram of the iterator pattern ?</span></div></td></tr><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div>R: In this chapter, there are three different implementations of the iterator pattern. I’ll start with an example that follows the core theory of this pattern. In the next example, I’ll modify the example using Java’s built-in support of the iterator pattern. In the third and final example, you use this pattern with a different data structure. In the first two examples, I’ll simply use “String” data types but in the final example, I’ll use a complex data type.</div><div>In the first implementation, let’s assume that in a particular college, an arts department student needs to study four papers (or subjects)—English, history, geography, and psychology. The details of these papers are stored in an array data structure. And your job is to print the curriculum using an iterator.</div><div>Let’s assume that your iterator currently supports four basic methods: first(), next(), currentItem(), and hasNext().</div><ul><li><div>The first() method resets the pointer to the first element before you start traversing a data structure.</div></li><li><div>The next() method returns the next element in the container.</div></li><li><div>The currentItem() method returns the current element of the container that the iterator is pointing at a particular point of time.</div></li><li><div>The hasNext() validates whether any next element is available for further processing. So, it helps you determine whether you have reached the end of your container.</div></li></ul><h3><span style="font-size: 11pt;"><br/></span></h3><div style="text-align: center;"><img src="18 - Iterator Pattern_files/Image.jpg" type="image/jpeg" data-filename="Image.jpg" style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; border: 0px; height: 31.58em; max-width: 100%; vertical-align: middle; margin: 0px; padding: 2px;" width="553"/></div></td></tr></tbody></table><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 846px;"></col></colgroup><tbody><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div><span style="font-weight: bold;">D:   can you show an implementation of the iterator pattern ?</span></div></td></tr><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div>R: Here’s the first implementation.</div><div><font face="Source Code Pro"><br/></font></div><div><font face="Source Code Pro">package jdp2e.iterator.demo;</font></div><div><font face="Source Code Pro">interface Subjects</font></div><div><font face="Source Code Pro">{</font></div><div><font face="Source Code Pro">   Iterator createIterator();</font></div><div><font face="Source Code Pro">}</font></div><div><font face="Source Code Pro">class Arts implements Subjects</font></div><div><font face="Source Code Pro">{</font></div><div><font face="Source Code Pro">   private String[] papers;</font></div><div><font face="Source Code Pro">   public Arts()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       papers = new String[] { &quot;English&quot;,&quot;History&quot;, &quot;Geography&quot;,&quot;Psychology&quot; };</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   public Iterator createIterator()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       return new ArtsIterator(papers);</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">}</font></div><div><font face="Source Code Pro">interface Iterator</font></div><div><font face="Source Code Pro">{</font></div><div><font face="Source Code Pro">   void first();//Reset to first element</font></div><div><font face="Source Code Pro">   String next();//To get the next element</font></div><div><font face="Source Code Pro">   String currentItem();//To retrieve the current element</font></div><div><font face="Source Code Pro">   boolean hasNext();//To check whether there is any next element or not.</font></div><div><font face="Source Code Pro">}</font></div><div><font face="Source Code Pro">class ArtsIterator implements Iterator</font></div><div><font face="Source Code Pro">{</font></div><div><font face="Source Code Pro">   private String[] papers;</font></div><div><font face="Source Code Pro">   private int position;</font></div><div><font face="Source Code Pro">   public ArtsIterator(String[] papers)</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       this.papers = papers;</font></div><div><font face="Source Code Pro">       position = 0;</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   @Override</font></div><div><font face="Source Code Pro">   public void first()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       position = 0;</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   @Override</font></div><div><font face="Source Code Pro">   public String next()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       //System.out.println(&quot;Currently pointing to: &quot;+ this.currentItem()) ;</font></div><div><font face="Source Code Pro">       return papers[position++];</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   @Override</font></div><div><font face="Source Code Pro">   public String currentItem()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       return papers[position];</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   @Override</font></div><div><font face="Source Code Pro">   public boolean hasNext()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       if(position &gt;= papers.length)</font></div><div><font face="Source Code Pro">           return false;</font></div><div><font face="Source Code Pro">       return true;</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">}</font></div><div><font face="Source Code Pro">public class IteratorPatternExample {</font></div><div><font face="Source Code Pro">   public static void main(String[] args) {</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;***Iterator Pattern Demo***&quot;);</font></div><div><font face="Source Code Pro">       Subjects artsSubjects = new Arts();</font></div><div><font face="Source Code Pro">       Iterator iteratorForArts = artsSubjects.createIterator();</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;\n Arts subjects are as follows:&quot;);</font></div><div><font face="Source Code Pro">       while (iteratorForArts.hasNext())</font></div><div><font face="Source Code Pro">       {</font></div><div><font face="Source Code Pro">           System.<span style="font-style: italic;">out</span>.println(iteratorForArts.next());</font></div><div><font face="Source Code Pro">       }</font></div><div><font face="Source Code Pro">       //Moving back to first element</font></div><div><font face="Source Code Pro">       iteratorForArts.first();</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot; Currently pointing back to: &quot;+ iteratorForArts.currentItem());</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">}</font></div></td></tr></tbody></table><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 846px;"></col></colgroup><tbody><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div><span style="font-weight: bold;">D:   can you show an implementation of the iterator pattern using default java libraries ?</span></div></td></tr><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div>R: I used Java’s built-in support for the iterator pattern. Note the inclusion of the following line at the beginning of the program.</div><div><font style="font-family: &quot;Source Code Pro&quot;;">                       import java.util.Iterator;</font></div><div>If you open the source code, you see that this interface has three methods: hasNext(), next(), and remove(). But the remove() method has a default implementation already. So, in the following example, I needed to override the hasNext() and next() methods only.</div><div>Here you are using the Java’s Iterator interface, so there is no need to define your own Iterator interface.</div><div>In this modified implementation, key changes are shown in bold.</div><div><br/></div><div><font face="Source Code Pro">package jdp2e.iterator.modified.demo;</font></div><div><font face="Source Code Pro">import java.util.Iterator;</font></div><div><font face="Source Code Pro">interface Subjects</font></div><div><font face="Source Code Pro">{</font></div><div><font face="Source Code Pro">   //Iterator CreateIterator();</font></div><div><font face="Source Code Pro">   <span style="font-weight: bold;">ArtsIterator createIterator();</span></font></div><div><font face="Source Code Pro">}</font></div><div><font face="Source Code Pro">class Arts implements Subjects</font></div><div><font face="Source Code Pro">{</font></div><div><font face="Source Code Pro">   private String[] papers;</font></div><div><font face="Source Code Pro">   public Arts()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       papers = new String[] { &quot;English&quot;,&quot;History&quot;, &quot;Geography&quot;,&quot;Psychology&quot; };</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   //public Iterator CreateIterator()</font></div><div><font face="Source Code Pro">   public ArtsIterator createIterator()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       return new ArtsIterator(papers);</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">}</font></div><div><span style="font-weight: bold;"><font face="Source Code Pro">class ArtsIterator implements Iterator&lt;String&gt;</font></span></div><div><font face="Source Code Pro">{</font></div><div><font face="Source Code Pro">   private String[] papers;</font></div><div><font face="Source Code Pro">   private int position;</font></div><div><font face="Source Code Pro">   public ArtsIterator(String[] papers)</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       this.papers = papers;</font></div><div><font face="Source Code Pro">       position = 0;</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   public void first()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       position = 0;</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   public String currentItem()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       return papers[position];</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   @Override</font></div><div><font face="Source Code Pro">   public boolean hasNext()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       if(position &gt;= papers.length)</font></div><div><font face="Source Code Pro">           return false;</font></div><div><font face="Source Code Pro">       return true;</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   @Override</font></div><div><font face="Source Code Pro">   public String next()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       return papers[position++];</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">}</font></div><div><font face="Source Code Pro"><span style="font-weight: bold;">public class ModifiedIteratorPatternExample</span> {</font></div><div><font face="Source Code Pro">   public static void main(String[] args) {</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;***Modified Iterator Pattern Demo.***&quot;);</font></div><div><font face="Source Code Pro">       Subjects artsSubjects = new Arts();</font></div><div><font face="Source Code Pro">       //Iterator IteratorForArts = artsSubjects.createIterator();</font></div><div><font face="Source Code Pro">       <span style="font-weight: bold;">ArtsIterator iteratorForArts = artsSubjects.createIterator();</span></font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;\nArts subjects are as follows:&quot;);</font></div><div><font face="Source Code Pro">       while (iteratorForArts.hasNext())</font></div><div><font face="Source Code Pro">       {</font></div><div><font face="Source Code Pro">           System.<span style="font-style: italic;">out</span>.println(iteratorForArts.next());</font></div><div><font face="Source Code Pro">       }</font></div><div><font face="Source Code Pro">       //Moving back to first element</font></div><div><font face="Source Code Pro">       iteratorForArts.first();</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;Currently pointing to: &quot;+ iteratorForArts.currentItem());</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">}</font></div></td></tr></tbody></table><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 846px;"></col></colgroup><tbody><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div><span style="font-weight: bold;">D:   </span><span style="font-weight: bold;">What is the use of an iterator pattern? </span><span style="font-weight: bold;">What are the key challenges associated with this pattern?</span></div></td></tr><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div><b>R: </b></div><ul><li><div>You can traverse an object structure without knowing its internal details. As a result, if you have a collection of different subcollections (e.g., your container is mixed up with arrays, lists, or linked lists, etc.), you can still traverse the overall collection and deal with the elements in a universal way without knowing the internal details or differences among them.</div></li><li><div>You can traverse a collection in different ways. You can also provide an implementation that supports multiple traversals simultaneously.</div></li></ul><div><b><br/></b></div><div>Ideally, during a traversal/iteration process, you should not perform any accidental modification to the core architecture.</div></td></tr></tbody></table><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 846px;"></col></colgroup><tbody><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div><span style="font-weight: bold;">D:    In these implementations, I am seeing that you are only using strings of arrays to store and manipulate data. Can you show an iterator pattern implementation that uses a relatively complex data type and a different data structure?</span></div></td></tr><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div><b>R: </b></div><div>To make these examples simple and straightforward, I only used strings and an array data structure. You can always choose your preferred data structure and apply the same process when you consider a complex data type. For example, consider the following illustration (third implementation) with these key characteristics.</div><ul><li><div>Here I am using a relatively complex data type, Employee. Each employee object has three things: a name, an identification number (id), and the salary.</div></li><li><div>Instead of an array, I used a different data structure, LinkedList, in the following implementation. So, I need to include the following line in this implementation.</div><div>import java.util.LinkedList;</div></li><li><div>I have followed the same approach that I used in the previous example.</div></li></ul><div><br/></div><div><font face="Source Code Pro">package jdp2e.iterator.questions_answers;</font></div><div><font face="Source Code Pro">import java.util.Iterator;</font></div><div><font face="Source Code Pro">import java.util.LinkedList;</font></div><div><font face="Source Code Pro">class Employee</font></div><div><font face="Source Code Pro">{</font></div><div><font face="Source Code Pro">   private String name;</font></div><div><font face="Source Code Pro">   private int id;</font></div><div><font face="Source Code Pro">   private double salary;</font></div><div><font face="Source Code Pro">   public Employee(String name, int id, double salary )</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       this.name=name;</font></div><div><font face="Source Code Pro">       this.id=id;</font></div><div><font face="Source Code Pro">       this.salary=salary;</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   public String getName() {</font></div><div><font face="Source Code Pro">       return name;</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   public void setName(String name) {</font></div><div><font face="Source Code Pro">       this.name = name;</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   public int getId() {</font></div><div><font face="Source Code Pro">       return id;</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   public void setId(int id) {</font></div><div><font face="Source Code Pro">       this.id = id;</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   public double getSalary() {</font></div><div><font face="Source Code Pro">       return salary;</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   public void setSalary(double salary) {</font></div><div><font face="Source Code Pro">       this.salary = salary;</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   @Override</font></div><div><font face="Source Code Pro">   public String toString(){</font></div><div><font face="Source Code Pro">       return &quot;Employee Name: &quot;+this.getName()+&quot;, ID: &quot;+this.getId()+ &quot; and salary: &quot;+this.getSalary()+&quot;$&quot;;</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">}</font></div><div><font face="Source Code Pro">interface DataBase</font></div><div><font face="Source Code Pro">{</font></div><div><font face="Source Code Pro">   EmployeeIterator createIterator();</font></div><div><font face="Source Code Pro">}</font></div><div><font face="Source Code Pro">class EmployeeDatabase implements DataBase</font></div><div><font face="Source Code Pro">{</font></div><div><font face="Source Code Pro">   private LinkedList&lt;Employee&gt; employeeList;</font></div><div><font face="Source Code Pro">   public EmployeeDatabase()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       employeeList = new LinkedList&lt;Employee&gt;();</font></div><div><font face="Source Code Pro">       employeeList.add(new Employee(&quot;Ron&quot;,1, 1000.25));</font></div><div><font face="Source Code Pro">       employeeList.add(new Employee(&quot;Jack&quot;,2, 2000.5));</font></div><div><font face="Source Code Pro">       employeeList.add(new Employee(&quot;Ambrose&quot;,3, 3000.75));</font></div><div><font face="Source Code Pro">       employeeList.add(new Employee(&quot;Jian&quot;,4, 2550.0));</font></div><div><font face="Source Code Pro">       employeeList.add(new Employee(&quot;Alex&quot;,5, 753.83));</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   public EmployeeIterator createIterator()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       return new EmployeeIterator(employeeList);</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">}</font></div><div><font face="Source Code Pro">class EmployeeIterator implements Iterator&lt;Employee&gt;</font></div><div><font face="Source Code Pro">{</font></div><div><font face="Source Code Pro">   private LinkedList&lt;Employee&gt; employeeList;</font></div><div><font face="Source Code Pro">   private int position;</font></div><div><font face="Source Code Pro">   public EmployeeIterator(LinkedList&lt;Employee&gt; employeeList)</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       this.employeeList= employeeList;</font></div><div><font face="Source Code Pro">       position = 0;</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   //@Override</font></div><div><font face="Source Code Pro">   public void first()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       position = 0;</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   //@Override</font></div><div><font face="Source Code Pro">   public Employee currentItem()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       return employeeList.get(position);</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   @Override</font></div><div><font face="Source Code Pro">   public Employee next()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       return employeeList.get(position++);</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   @Override</font></div><div><font face="Source Code Pro">   public boolean hasNext() {</font></div><div><font face="Source Code Pro">       if(position &gt;= employeeList.size())</font></div><div><font face="Source Code Pro">           return false;</font></div><div><font face="Source Code Pro">       return true;</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">}</font></div><div><font face="Source Code Pro">public class ModifiedIteratorPatternExample2 {</font></div><div><font face="Source Code Pro">   public static void main(String[] args) {</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;***Modified Iterator Pattern Demo.Example-2.***&quot;);</font></div><div><font face="Source Code Pro">       DataBase employeesList = new EmployeeDatabase();</font></div><div><font face="Source Code Pro">       EmployeeIterator iteratorForEmployee = employeesList.createIterator();</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;\n -----Employee details are as follows-----\n&quot;);</font></div><div><font face="Source Code Pro">       while (iteratorForEmployee.hasNext())</font></div><div><font face="Source Code Pro">       {</font></div><div><font face="Source Code Pro">           System.<span style="font-style: italic;">out</span>.println(iteratorForEmployee.next());</font></div><div><font face="Source Code Pro">       }</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">}</font></div></td></tr></tbody></table></div></div><div><br/></div></span>
</div></body></html> 