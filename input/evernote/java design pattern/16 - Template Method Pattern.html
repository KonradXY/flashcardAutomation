<html>
<head>
  <title>Evernote Export</title>
  <basefont face="Segoe UI" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/308716 (en-US, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: Segoe UI;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="483"/>

<div>
<span><div><h2><span style="font-weight: bold;">16 - Template Method Pattern</span></h2><div><br/></div><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 846px;"></col></colgroup><tbody><tr><td style="width: 846px; padding: 8px; border: 1px solid;"><div>D:   can you give the gof definition of the template method pattern ?</div></td></tr><tr><td style="width: 846px; padding: 8px; border: 1px solid;"><div>R: Define the skeleton of an algorithm in an operation, deferring some steps to subclasses. Template method lets subclasses redefine certain steps of an algorithm without changing the algorithm’s structure.</div></td></tr></tbody></table><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 846px;"></col></colgroup><tbody><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div>D:   Can you show the uml diagram of the template method pattern ?</div></td></tr><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div>R: In a template method, you define the minimum or essential structure of an algorithm. Then you defer some responsibilities to the subclasses. The key intent is that you can redefine certain steps of an algorithm, but those changes should not impact the basic flow of the algorithm.</div><div>So, this design pattern is useful when you implement a multistep algorithm and you want to allow customization through subclasses.</div><div><br/></div><div><img src="16 - Template Method Pattern_files/Image.jpg" type="image/jpeg" data-filename="Image.jpg" width="511"/></div></td></tr></tbody></table><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 846px;"></col></colgroup><tbody><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div>D:   Can you give an implementation of the template method pattern ?</div></td></tr><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div>R. Here’s the implementation:</div><div><font face="Source Code Pro"><br/></font></div><div><font face="Source Code Pro">package jdp2e.templatemethod.demo;</font></div><div><font face="Source Code Pro">abstract class BasicEngineering</font></div><div><font face="Source Code Pro">{</font></div><div><font face="Source Code Pro">   //Making the method final to prevent overriding.</font></div><div><font face="Source Code Pro">   public final void completeCourse()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       //The course needs to be completed in the following sequence</font></div><div><font face="Source Code Pro">       //1.Math-2.SoftSkills-3.Special Paper</font></div><div><font face="Source Code Pro">       //Common Papers:</font></div><div><font face="Source Code Pro">       completeMath();</font></div><div><font face="Source Code Pro">       completeSoftSkills();</font></div><div><font face="Source Code Pro">       //Specialization Paper:</font></div><div><font face="Source Code Pro">       completeSpecialPaper();</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   private void completeMath()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;1.Mathematics&quot;);</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   private void completeSoftSkills()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;2.SoftSkills&quot;);</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   public abstract void completeSpecialPaper();</font></div><div><font face="Source Code Pro">}</font></div><div><font face="Source Code Pro">class ComputerScience extends BasicEngineering</font></div><div><font face="Source Code Pro">{</font></div><div><font face="Source Code Pro">   @Override</font></div><div><font face="Source Code Pro">   public void completeSpecialPaper() {</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;3.Object-Oriented Programming&quot;);</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">}</font></div><div><font face="Source Code Pro">class Electronics extends BasicEngineering</font></div><div><font face="Source Code Pro">{</font></div><div><font face="Source Code Pro">   @Override</font></div><div><font face="Source Code Pro">   public void completeSpecialPaper()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;3.Digital Logic and Circuit Theory&quot;);</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">}</font></div><div><font face="Source Code Pro">public class TemplateMethodPatternExample {</font></div><div><font face="Source Code Pro">   public static void main(String[] args) {</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;***Template Method Pattern Demo***\n&quot;);</font></div><div><font face="Source Code Pro">       BasicEngineering preferrredCourse = new ComputerScience();</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;Computer Sc. course will be completed in following order:&quot;);</font></div><div><font face="Source Code Pro">       <a href="http://preferrredCourse.completeCourse%28%29%3B">preferrredCourse.completeCourse();</a></font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println();</font></div><div><font face="Source Code Pro">       preferrredCourse = new Electronics();</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;Electronics course will be completed in following order:&quot;);</font></div><div><font face="Source Code Pro">       <a href="http://preferrredCourse.completeCourse%28%29%3B">preferrredCourse.completeCourse();</a></font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">}</font></div></td></tr></tbody></table><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 846px;"></col></colgroup><tbody><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div>D:   <span style="font-weight: bold;">Consider a situation like this: Suppose you want to add some more methods in the BasicEngineering class but you want to work on those methods if and only if, the child classes need them otherwise you will ignore them. This type of situation is very common in some PhD courses where some courses are not mandatory for all candidates. For example, if a student has certain qualifications, he/she may not need to attend the lectures of those subjects. Can you design this kind of situation with the Template Method Pattern?</span></div></td></tr><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div><b>R: </b>Yes, we can. Basically, you may need to put a <span style="font-weight: bold;">hook</span> which is nothing but a method that can help us to control the flow in an algorithm.</div><div>To show an example of this kind of design, I am adding one more method in BasicEngineering called is <span style="font-weight: bold;">AdditionalPapersNeeded()</span> . Let us assume that Computer science students need to complete this course, but Electronics students can opt out this paper. Let’s go through the program and output.</div><div>Here’s the modified implementation. Key changes are shown in bold.</div><div><font face="Source Code Pro"><br/></font></div><div><font face="Source Code Pro">package jdp2e.templatemethod.questions_answers;</font></div><div><font face="Source Code Pro">abstract class BasicEngineering</font></div><div><font face="Source Code Pro">{</font></div><div><font face="Source Code Pro">   //Making the method final to prevent overriding.</font></div><div><font face="Source Code Pro">   public final void completeCourse()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       //The course needs to be completed in the following sequence</font></div><div><font face="Source Code Pro">       //1.Math-2.SoftSkills-3.Special Paper-4.Additional Papers(if any)</font></div><div><font face="Source Code Pro">       //Common Papers:</font></div><div><font face="Source Code Pro">       completeMath();</font></div><div><font face="Source Code Pro">       completeSoftSkills();</font></div><div><font face="Source Code Pro">       //Specialization Paper:</font></div><div><font face="Source Code Pro">       completeSpecialPaper();</font></div><div><font face="Source Code Pro">       if (isAdditionalPapersNeeded())</font></div><div><font face="Source Code Pro">       {</font></div><div><font face="Source Code Pro">           completeAdditionalPapers();</font></div><div><font face="Source Code Pro">       }</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   private void completeMath()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;1.Mathematics&quot;);</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   private void completeSoftSkills()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;2.SoftSkills&quot;);</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   public abstract void completeSpecialPaper();</font></div><div><font face="Source Code Pro">   <span style="font-weight: bold;">private void completeAdditionalPapers()</span></font></div><div><font face="Source Code Pro">   <span style="font-weight: bold;">{</span></font></div><div><font face="Source Code Pro">       <span style="font-weight: bold;">System.</span><span style="font-style: italic; font-weight: bold;">out</span><span style="font-weight: bold;">.println(&quot;4.Additional Papers are needed for this course.&quot;);</span></font></div><div><font face="Source Code Pro">   <span style="font-weight: bold;">}</span></font></div><div><font face="Source Code Pro">   <span style="font-weight: bold;">//By default, AdditionalPapers are needed for a course</span> <span style="font-weight: bold;">.</span></font></div><div><font face="Source Code Pro">   <span style="font-weight: bold;">boolean isAdditionalPapersNeeded()</span></font></div><div><font face="Source Code Pro">   <span style="font-weight: bold;">{</span></font></div><div><font face="Source Code Pro">       <span style="font-weight: bold;">return true;</span></font></div><div><font face="Source Code Pro">   <span style="font-weight: bold;">}</span></font></div><div><font face="Source Code Pro">}</font></div><div><font face="Source Code Pro">class ComputerScience extends BasicEngineering</font></div><div><font face="Source Code Pro">{</font></div><div><font face="Source Code Pro">   @Override</font></div><div><font face="Source Code Pro">   public void completeSpecialPaper()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;3.Object-Oriented Programming&quot;);</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   //Additional papers are needed for ComputerScience</font></div><div><font face="Source Code Pro">   //So, there is no change for the hook method.</font></div><div><font face="Source Code Pro">}</font></div><div><font face="Source Code Pro">class Electronics extends BasicEngineering</font></div><div><font face="Source Code Pro">{</font></div><div><font face="Source Code Pro">   @Override</font></div><div><font face="Source Code Pro">   public void completeSpecialPaper()</font></div><div><font face="Source Code Pro">   {</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;3.Digital Logic and Circuit Theory&quot;);</font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">   <span style="font-weight: bold;">//Overriding the hook method:</span></font></div><div><font face="Source Code Pro">   <span style="font-weight: bold;">//Indicating that AdditionalPapers are not needed for Electronics.</span></font></div><div><font face="Source Code Pro">   @Override</font></div><div><font face="Source Code Pro">   <span style="font-weight: bold;">public  boolean isAdditionalPapersNeeded()</span></font></div><div><font face="Source Code Pro">   <span style="font-weight: bold;">{</span></font></div><div><font face="Source Code Pro">       <span style="font-weight: bold;">return false;</span></font></div><div><font face="Source Code Pro">   <span style="font-weight: bold;">}</span></font></div><div><font face="Source Code Pro">}</font></div><div><font face="Source Code Pro">public class TemplateMethodPatternModifiedExample {</font></div><div><font face="Source Code Pro">   public static void main(String[] args) {</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;***Template Method Pattern Modified Demo***\n&quot;);</font></div><div><font face="Source Code Pro">       BasicEngineering preferrredCourse = new ComputerScience();</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;Computer Sc. course will be completed in following order:&quot;);</font></div><div><font face="Source Code Pro">       <a href="http://preferrredcourse.completecourse%28%29%3B/">preferrredCourse.completeCourse();</a></font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println();</font></div><div><font face="Source Code Pro">       preferrredCourse = new Electronics();</font></div><div><font face="Source Code Pro">       System.<span style="font-style: italic;">out</span>.println(&quot;Electronics course will be completed in following order:&quot;);</font></div><div><font face="Source Code Pro">       <a href="http://preferrredcourse.completecourse%28%29%3B/">preferrredCourse.completeCourse();</a></font></div><div><font face="Source Code Pro">   }</font></div><div><font face="Source Code Pro">}</font></div></td></tr></tbody></table><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 846px;"></col></colgroup><tbody><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div>D:   <span style="font-weight: bold;">What are the key</span> <span style="font-weight: bold;">advantages</span> <span style="font-weight: bold;">of using a template design pattern?</span></div></td></tr><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div>R:</div><ul><li><div>You can control the flow of the algorithms. Clients cannot change them. (Notice that completeCourse() is marked with final keyword in the abstract class BasicEngineering)</div></li><li><div>Common operations are placed in a centralized location, for example, in an abstract class. The subclasses can redefine only the varying parts, so that, you can avoid redundant codes.</div></li></ul></td></tr></tbody></table><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 846px;"></col></colgroup><tbody><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div>D:   <span style="font-weight: bold;">What are key challenges associated with a template design pattern?</span></div></td></tr><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div><b>R: </b></div><ul><li><div>Client code cannot direct the sequence of steps (If you need that approach, you may follow the Builder pattern).</div></li><li><div>A subclass can override a method defined in the parent class (i.e. hiding the original definition in parent class) which can go against Liskov Substitution Principle that basically says: If S is a subtype of T, then objects of type T can be replaced with objects of type S</div></li></ul></td></tr></tbody></table><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 846px;"></col></colgroup><tbody><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div>D:   <span style="font-weight: bold;">Looks like the subclasses can override other parent methods also in the BasicEngineering. Is the understanding correct?</span></div></td></tr><tr><td style="border: 1px solid rgb(204, 204, 204); width: 846px; padding: 8px;"><div><b>R: </b>You can do this but ideally that should not be your intent. In this pattern, you may not want to override all the parent methods entirely to bring the radical changes in the subclasses. In this way, it differs from simple polymorphism.</div></td></tr></tbody></table><div><br/></div><div><br/></div></div></div><div><br/></div></span>
</div></body></html> 